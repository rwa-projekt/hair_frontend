{"version":3,"sources":["../node_modules/@mui/icons-material/AddRounded.js","form-components/Input.js","constants/index.js","services/upload-files.js","components/Loading/index.js","views/Admin/Hairstyles/views/Form/index.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_createSvgIcon","_jsxRuntime","_default","jsx","d","FormInputText","disabled","name","control","label","type","endAdornment","placeholder","textFieldProps","useState","passwordVisible","setPasswordVisible","togglePasswordVisibility","previousState","handleMouseDownPassword","event","preventDefault","render","field","onChange","error","fieldState","formState","helperText","message","fullWidth","variant","InputProps","position","onClick","onMouseDown","edge","FORM_VALIDATIONS","required","email","SNACKBAR_ALERTS","login_error","register_error","UploadImages","multiple","setForm","initial","update","id","onSuccess","onFail","useLocation","images","setImages","imageURLs","setImageURLs","file","a","formData","FormData","append","localStorage","getItem","token","options","contentType","axios","post","then","res","console","log","catch","err","useEffect","length","newImageURLs","forEach","image","push","URL","createObjectURL","style","width","height","postion","IconButton","sx","bottom","right","cursor","bgcolor","htmlFor","color","mt","accept","e","target","files","changeImage","display","Box","placeItems","overflow","map","src","index","objectFit","borderRadius","Stack","direction","alignItems","spacing","Typography","opacity","maxWidth","textAlign","Loading","CircularProgress","Alert","React","forwardRef","props","ref","elevation","Form","dispatch","useDispatch","location","navigate","useNavigate","pathname","split","at","setId","loading","setLoading","hairstyle","setHairstyle","submitLoading","setSubmitLoading","deleteLoading","setDeleteLoading","success","setSuccess","fail","setFail","initialImage","setInitialImage","price","time_needed","defaultValues","methods","useForm","handleSubmit","register","setValue","get","data","avatar","closeSuccess","closeFail","form","JSON","stringify","updateOptions","addOptions","state","put","GET_HAIRSTYLES","setTimeout","delete","border","Input","InputAdornment","justifyContent","LoadingButton","loadingPosition","startIcon","textTransform","Button","inputMode","isValid","Snackbar","open","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","severity"],"mappings":"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","file":"static/js/16.ec02b85e.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M18 13h-5v5c0 .55-.45 1-1 1s-1-.45-1-1v-5H6c-.55 0-1-.45-1-1s.45-1 1-1h5V6c0-.55.45-1 1-1s1 .45 1 1v5h5c.55 0 1 .45 1 1s-.45 1-1 1z\"\n}), 'AddRounded');\n\nexports.default = _default;","import React, { useState } from \"react\";\nimport { Controller } from \"react-hook-form\";\n\n// MUI\nimport { TextField, InputAdornment, IconButton } from \"@mui/material\";\n\n// Icons\nimport Visibility from '@mui/icons-material/Visibility';\nimport VisibilityOff from '@mui/icons-material/VisibilityOff';\n\nexport default function FormInputText ({ disabled = false, name, control, label, type = \"text\", endAdornment, placeholder = \"\", textFieldProps }) {\n\n  // Variables\n  const [passwordVisible, setPasswordVisible] = useState(false)\n\n  // Methods\n  function togglePasswordVisibility() {\n    setPasswordVisible(previousState => !previousState)\n  }\n\n  function handleMouseDownPassword(event){\n    event.preventDefault();\n  };\n\n  return (\n    <Controller\n      name={name}\n      control={control}\n      render={({\n        field: { onChange, value },\n        fieldState: { error },\n        formState,\n      }) => (\n        <TextField\n          disabled={disabled}\n          helperText={error ? error.message : null}\n          error={!!error}\n          onChange={onChange}\n          value={value}\n          fullWidth\n          label={label}\n          variant=\"outlined\"\n          placeholder={placeholder}\n          type={passwordVisible ? 'text' : type}\n          InputProps={{\n            endAdornment: endAdornment ? endAdornment : type === 'password' &&\n            <InputAdornment position=\"end\">\n              <IconButton\n                aria-label=\"Toggle password visibility\"\n                onClick={togglePasswordVisibility}\n                onMouseDown={handleMouseDownPassword}\n                edge=\"end\"\n              >\n                {\n                  passwordVisible ? \n                    <VisibilityOff /> : \n                    <Visibility />\n                }\n              </IconButton>\n            </InputAdornment>\n          }}\n          {...textFieldProps}\n        />\n      )}\n    />\n  );\n};","export const FORM_VALIDATIONS = {\n    required: {\n        value: true,\n        message: 'This field is required'\n    },\n    email: {\n        value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n        message: \"Invalid e-mail address.\"\n    }\n}\n\nexport const SNACKBAR_ALERTS = {\n    login_error: 'Dogodila se greška prilikom prijave',\n    register_error: 'Dogodila se greška prilikom stvaranja računa'\n}","import React, { useState, useEffect } from 'react'\nimport { useLocation } from 'react-router-dom';\n\nimport axios from '../axios/hairstyles'\n\n// MUI\nimport { Box, IconButton, Stack, Typography } from '@mui/material'\nimport AddRoundedIcon from '@mui/icons-material/AddRounded';\n\nexport default function UploadImages({ multiple = false, setForm, initial = [], update = false, id = 0, onSuccess, onFail }){\n\n\t// Variables\n\tconst location = useLocation()\n\tconst [images, setImages] = useState([])\n\tconst [imageURLs, setImageURLs] = useState(initial)\n\n\t// Methods\n\tuseEffect(() => {\n\t\tif(!images.length) return;\n\t\tconst newImageURLs = []\n\t\timages.forEach(image => newImageURLs.push(URL.createObjectURL(image)));\n\t\tsetImageURLs(newImageURLs)\n\t}, [images])\n\n\tasync function changeImage(file){\n\t\t// Creating form data\n        let formData = new FormData();\n\n\t\t// Appending to form data\n\t\tformData.append('files', file);\n\n\t\t// Token\n\t\tconst token = await localStorage.getItem(\"token\")\n\t\tconst options = { token, contentType: 'multipart/form-data', type: file.type }\n\n\t\taxios(options)\n\t\t\t.post(`/${id}/set_avatar/`, formData)\n\t\t\t.then(res => {\n\t\t\t\tconsole.log(\"RES => \", res)\n\t\t\t\tonSuccess()\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(\"ERR => \", err)\n\t\t\t\tonFail()\n\t\t\t})\n\t}\n\n\tfunction onChange(e) {\n\t\tsetImages([...e.target.files])\n\t\t\n\t\tif(!multiple){\n\t\t\tsetForm(e.target.files)\n\t\t}\n\t\telse{\n\t\t\tsetForm([...e.target.files])\n\t\t}\n\n\t\tif(!!update){\n\t\t\tchangeImage(e.target.files[0])\n\t\t}\n\t}\n\n\treturn(\n\t\t<div style={{ width: '100%', height: '100%', postion: 'relative !important' }}>\n\t\t\t<IconButton\n\t\t\t\tsx={{ \n\t\t\t\t\tposition: 'absolute', \n\t\t\t\t\tbottom: 10, right: 10, \n\t\t\t\t\theight: 40, width: 40, \n\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\tbgcolor: 'secondary.light', \n\t\t\t\t\t'&:hover': { bgcolor: '#f1d0d2' } \n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<label htmlFor=\"file-input\">\n\t\t\t\t\t<AddRoundedIcon sx={{ color: \"#DF6D73\", mt: 1, cursor: 'pointer' }} />\n\t\t\t\t</label>\n\t\t\t</IconButton>\n\n\t\t\t<input\n\t\t\t\tid=\"file-input\"\n\t\t\t\ttype=\"file\"\n\t\t\t\tmultiple={multiple}\n\t\t\t\taccept='image/*'\n\t\t\t\tonChange={onChange}\n\t\t\t\tstyle={{ display: 'none' }}\n\t\t\t/>\n\n\t\t\t<Box sx={{ width: '100%', height: '100%', display: 'grid', placeItems: 'center', overflow: 'hidden' }}>\n\t\t\t\t{\n\t\t\t\t\tinitial.length || update || images.length ? \n\t\t\t\t\t\timageURLs.map((src, index) => \n\t\t\t\t\t\t\t<img \n\t\t\t\t\t\t\t\tkey={index} \n\t\t\t\t\t\t\t\tsrc={src} \n\t\t\t\t\t\t\t\tstyle={{ width: '100%', height: '100%', objectFit: 'cover', borderRadius: 6 }} \n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<Stack direction=\"column\" alignItems=\"center\" spacing={1}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\tDodajte fotografiju\n\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t<Typography \n\t\t\t\t\t\t\t\tvariant=\"caption\" \n\t\t\t\t\t\t\t\tsx={{  opacity: .75, maxWidth: 220, textAlign: 'center' }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tDozvoljene ekstenzije fotografije su: .png,.jpg,.jpeg\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Stack>\n\t\t\t\t}\n\t\t\t</Box>\n\t\t</div>\n\t)\n}","import React from 'react'\n\n// MUI\nimport { Box, Stack, CircularProgress, Typography } from '@mui/material'\n\nexport default function Loading({ color = \"secondary\" }){\n    return(\n        <Box sx={{ width: '100%', height: 400, display: 'grid', placeItems: 'center' }}>\n            <Stack\n                direction=\"column\"\n                alignItems=\"center\"\n                spacing={3}\n            >\n                <CircularProgress color={color} />\n                <Typography variant=\"subtitle1\" sx={{ opacity: .75 }}>Učitavanje ...</Typography>\n            </Stack>\n        </Box>\n    )\n}","import React, { useEffect, useState } from \"react\";\nimport axios from '../../../../../axios/hairstyles'\nimport { useLocation, useNavigate } from 'react-router-dom'\nimport { useDispatch } from 'react-redux';\n\n// MUI\nimport { Stack, Box, Button, Snackbar, InputAdornment } from '@mui/material'\nimport MuiAlert from '@mui/material/Alert';\nimport { LoadingButton } from '@mui/lab';\nimport SaveIcon from '@mui/icons-material/Save';\n\n// Components\nimport Input from '../../../../../form-components/Input'\nimport Upload from '../../../../../services/upload-files'\nimport Loading from '../../../../../components/Loading'\n\n// Form\nimport { FORM_VALIDATIONS } from '../../../../../constants'\nimport { useForm } from \"react-hook-form\";\nimport { GET_HAIRSTYLES } from \"../../../../../state/modules/hairstyles/actions\";\n\nconst Alert = React.forwardRef(function Alert(props, ref) {\n    return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\n});\n\nexport default function Form() {\n\n\t// Constants\n\tconst _defaultValues = {\n        name: \"\",\n        price: 0,\n\t\ttime_needed: 30,\n\t\tfile: null\n    }\n\n\t// Variables\n\tconst dispatch = useDispatch()\n\tconst location = useLocation()\n\tconst navigate = useNavigate()\n\tconst [id, setId] = useState(location.pathname.split('/').at(-1))\n\tconst [loading, setLoading] = useState(false)\n\tconst [hairstyle, setHairstyle] = useState({})\n\tconst [submitLoading, setSubmitLoading] = useState(false)\n\tconst [deleteLoading, setDeleteLoading] = useState(false)\n\tconst [success, setSuccess] = useState(false);\n    const [fail, setFail] = useState(false);\n\tconst [initialImage, setInitialImage] = useState([])\n\tconst [defaultValues] = useState(_defaultValues)\n    const methods = useForm({ defaultValues }); \n    const { handleSubmit, register, control, formState, setValue } = methods;\n\n\t// Methods\n\tuseEffect(() => {\n\t\tif(id !== 'add'){\n\t\t\tconst token = localStorage.getItem(\"token\")\n\t\t\tconst options = { token }\n\t\t\tsetLoading(true)\n\t\t\taxios(options).get(`/${id}/`)\n\t\t\t\t.then(res => {\n\t\t\t\t\tsetHairstyle(res.data)\n\t\t\t\t\tconst { name, price, time_needed, avatar } = res.data\n\t\t\t\t\tsetValue('name', name)\n\t\t\t\t\tsetValue('price', price)\n\t\t\t\t\tsetValue('time_needed', time_needed)\n\t\t\t\t\tsetInitialImage([avatar])\n\t\t\t\t\tsetLoading(false)\n\t\t\t\t})\n\t\t}\n\t\telse{\n\t\t\tsetValue('name', '')\n\t\t\tsetValue('price', 0)\n\t\t\tsetValue('time_needed', 30)\n\t\t\tsetInitialImage([])\n\t\t}\n\t}, [id])\n\n\tuseEffect(() => {\n\t\tsetId(location.pathname.split('/').at(-1))\n\t},[location])\n\n\n\tfunction setImage(file){\n\t\tsetValue('file', file)\n\t}\n\n\t// Callbacks\n\tconst onSuccess = () => { setSuccess(true) };\n    const closeSuccess = () => { setSuccess(false) };\n    const onFail = () => { setFail(true) };\n    const closeFail = () => { setFail(false) };\n\n\tasync function onSubmit(form) {\n\t\t// Set loading\n\t\tsetSubmitLoading(true)\n\n\t\t// Destructuring form\n\t\tconst { name, price, time_needed, file } = form;\n\n\t\t// Creating object\n\t\tconst data =  { name, price: +price, time_needed: +time_needed }\n\n\t\t// Creating form data\n        let formData = new FormData();\n\n\t\t// Appending to form data\n\t\tformData.append('data', JSON.stringify(data));\n\t\t\n\t\t// Token\n\t\tconst token = await localStorage.getItem(\"token\")\n\t\tconst updateOptions = { token }\n\t\tconst addOptions = {\n\t\t\ttoken,\n\t\t\tcontentType: 'multipart/form-data'\n\t\t}\n\n\t\tif(location.state.update){\n\t\t\tconsole.log(\"UPDATE DATA => \", data)\n\t\t\taxios(updateOptions)\n\t\t\t\t.put(`/${hairstyle.id}/`, { name, price: +price, time_needed: +time_needed })\n\t\t\t\t.then(res => {\n\n\t\t\t\t\t// Updating redux\n\t\t\t\t\tdispatch({ type: GET_HAIRSTYLES })\n\n\t\t\t\t\tonSuccess()\n\t\t\t\t\tsetSubmitLoading(false)\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tnavigate('/admin/hairstyles')\n\t\t\t\t\t}, 500);\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tsetSubmitLoading(false)\n\t\t\t\t\tonFail()\n\t\t\t\t})\n\t\t}\n\t\telse{\n\t\t\tformData.append('files', file[0]);\n\t\t\tsetSubmitLoading(true)\n\t\t\taxios(addOptions)\n\t\t\t\t.post(\"\", formData)\n\t\t\t\t.then(res => {\n\n\t\t\t\t\t// Updating redux\n\t\t\t\t\tdispatch({ type: GET_HAIRSTYLES })\n\n\t\t\t\t\tonSuccess()\n\t\t\t\t\tsetSubmitLoading(false)\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tnavigate('/admin/hairstyles')\n\t\t\t\t\t}, 500);\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tsetSubmitLoading(false)\n\t\t\t\t\tonFail()\n\t\t\t\t})\n\t\t}\n    }\n\n\tasync function onDelete() {\n\t\t// Set loading\n\t\tsetDeleteLoading(true)\n\n\t\t// Token\n\t\tconst token = await localStorage.getItem(\"token\")\n\t\tconst options = { token }\n\n\t\t// Axios\n\t\taxios(options)\n\t\t\t.delete(`/${hairstyle.id}/`)\n\t\t\t.then(res => {\n\n\t\t\t\t// Updating redux\n\t\t\t\tdispatch({ type: GET_HAIRSTYLES })\n\n\t\t\t\tonSuccess()\n\t\t\t\tsetDeleteLoading(false)\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tnavigate('/admin/hairstyles')\n\t\t\t\t}, 500);\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tsetDeleteLoading(false)\n\t\t\t\tonFail()\n\t\t})\n    }\n\n\tif(loading){\n\t\treturn <Loading />\n\t}\n\n\treturn (\n\t\t<Stack\n\t\t\tdirection=\"column\"\n\t\t\talignItems=\"flex-start\"\n\t\t\tspacing={6}\n\t\t\tsx={{ maxWidth: 720 }}\n\t\t>\n\t\t\t<Box sx={{ height: 240, width: '100%', borderRadius: 2, position: 'relative', border: '1px solid #dadada' }}>\n\t\t\t\t<Upload \n\t\t\t\t\tinitial={initialImage} \n\t\t\t\t\tupdate={location?.state?.update} \n\t\t\t\t\tid={hairstyle.id} \n\t\t\t\t\tsetForm={setImage}\n\t\t\t\t\tonSuccess={onSuccess}\n\t\t\t\t\tonFail={onFail}\n\t\t\t\t/>\n\t\t\t</Box>\n\n\t\t\t<Input \n\t\t\t\tname=\"name\"\n\t\t\t\trequired \n\t\t\t\tcontrol={control} \n\t\t\t\tlabel=\"Ime usluge\"\n\t\t\t\tplaceholder=\"Unesite ime usluge...\"\n\t\t\t\ttype=\"text\"\n\t\t\t\t{...register(\"name\", { \n\t\t\t\t\trequired: FORM_VALIDATIONS, \n\t\t\t\t})}\n\t\t\t/>\n\n\t\t\t<Input \n\t\t\t\tname=\"price\"\n\t\t\t\trequired \n\t\t\t\tcontrol={control} \n\t\t\t\tlabel=\"Cijena usluge\"\n\t\t\t\ttype=\"number\"\n\t\t\t\tplaceholder=\"Unesite cijenu usluge...\"\n\t\t\t\tendAdornment={<InputAdornment position=\"end\">KM</InputAdornment>}\n\t\t\t\t{...register(\"price\", { \n\t\t\t\t\trequired: FORM_VALIDATIONS, \n\t\t\t\t})}\n\t\t\t/>\n\n\t\t\t<Input\n\t\t\t\tdisabled={true}\n\t\t\t\tname=\"time_needed\"\n\t\t\t\trequired \n\t\t\t\tcontrol={control} \n\t\t\t\tlabel=\"Vrijeme potrebno\"\n\t\t\t\ttype=\"number\"\n\t\t\t\tplaceholder=\"Unesite vrijeme potrebno za uslugu...\"\n\t\t\t\tendAdornment={<InputAdornment position=\"end\">min.</InputAdornment>}\n\t\t\t\t{...register(\"time_needed\", { \n\t\t\t\t\trequired: FORM_VALIDATIONS, \n\t\t\t\t})}\n\t\t\t/>\n\n\n\t\t\t<Stack\n\t\t\t\tdirection=\"row\"\n\t\t\t\talignItems=\"center\"\n\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\tsx={{ width: '100%' }}\n\t\t\t>\n\t\t\t\t{/* Submit */}\n\t\t\t\t{\n\t\t\t\t\tsubmitLoading ?\n\t\t\t\t\t\t<LoadingButton\n\t\t\t\t\t\t\tloading\n\t\t\t\t\t\t\tloadingPosition=\"start\"\n\t\t\t\t\t\t\tstartIcon={<SaveIcon />}\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tsx={{ textTransform: 'none' }} \n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSpremanje...\n\t\t\t\t\t\t</LoadingButton>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={handleSubmit(onSubmit)}\n\t\t\t\t\t\t\tsx={{ textTransform: 'none' }} \n\t\t\t\t\t\t\tvariant=\"contained\" \n\t\t\t\t\t\t\tinputMode=\"submit\"\n\t\t\t\t\t\t\tdisabled={!formState.isValid}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ formState.isValid ? 'Spremi' : 'Unesite podatke' }\n\t\t\t\t\t\t</Button>\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\tlocation?.state?.update && (\n\t\t\t\t\t\tdeleteLoading ?\n\t\t\t\t\t\t\t<LoadingButton\n\t\t\t\t\t\t\t\tloading\n\t\t\t\t\t\t\t\tloadingPosition=\"start\"\n\t\t\t\t\t\t\t\tstartIcon={<SaveIcon />}\n\t\t\t\t\t\t\t\tvariant=\"text\"\n\t\t\t\t\t\t\t\tsx={{ textTransform: 'none' }} \n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tBrisanje...\n\t\t\t\t\t\t\t</LoadingButton>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tonClick={onDelete}\n\t\t\t\t\t\t\t\tsx={{ textTransform: 'none' }} \n\t\t\t\t\t\t\t\tvariant=\"text\" \n\t\t\t\t\t\t\t\tinputMode=\"submit\"\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\tdisabled={!formState.isValid}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tIzbriši uslugu\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</Stack>\n\n\n\t\t\t<Snackbar \n                open={success} \n                autoHideDuration={3000} \n                onClose={closeSuccess}\n                anchorOrigin={{ vertical: 'bottom', horizontal: 'right'}}\n            >\n                <Alert onClose={closeSuccess} severity=\"success\" sx={{ width: '100%' }}>\n                    Uspješno ste dodali/uredili uslugu.\n                </Alert>\n            </Snackbar>\n\n            <Snackbar \n                open={fail} \n                autoHideDuration={3000} \n                onClose={closeFail}\n                anchorOrigin={{ vertical: 'bottom', horizontal: 'right'}}\n            >\n                <Alert onClose={closeFail} severity=\"error\" sx={{ width: '100%' }}>\n                    Došlo je do pogreške pri dodavanju/uređivanju usluge\n                </Alert>\n            </Snackbar>\n\n\t\t</Stack>\n\t);\n}"],"sourceRoot":""}